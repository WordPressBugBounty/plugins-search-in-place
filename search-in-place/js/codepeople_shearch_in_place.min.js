var codepeople_search_in_place_generator=function(){function r(){try{return document.createEvent("TouchEvent"),!0}catch(b){return!1}}var e=jQuery;if("undefined"==typeof codepeople_search_in_place_generator_flag){codepeople_search_in_place_generator_flag=!0;var v=!1,C,D,y=e(".search-in-place-results-container"),z=function(b){let a=e(this).find("a").attr("href"),d,h;if(a)switch("URL"in window&&(d=new URL(a),h=d.searchParams.get("highlight"))&&(d.searchParams.delete("highlight"),a=d.toString(),sessionStorage.setItem("highlight",
h)),b.which){case 2:window.open(a,"_blank").trigger("blur");window.focus();break;case 3:break;default:e(this).find("a").removeAttr("href"),document.location.href=a}},w=function(b){v=v||!1;if(b||v&&e('input[name="s"]:focus').length==0&&e(".search-in-place:hover").length==0&&e(".search-in-place :focus").length==0)e(".search-in-place-close-icon").remove(),e(".search-in-place").hide(),v=!1},E=function(b){if(b.is(":hidden")||b.closest(".e-n-accordion-item").length||b.closest(".wp-block-themeisle-blocks-accordion-item:not(.open)").length){var a=
b.closest(".wp-block-kadence-tab");if(a.length&&a.is(":hidden")&&"KBTabs"in window&&(a=a.attr("class").match(/kt\-inner\-tab\-(\d+)/))){a=a[1];var d=b.closest(".kt-tabs-wrap");if(d.length){KBTabs.setActiveTab(d[0],a);return}}a=b.closest(".e-n-accordion-item");if(a.length)a.attr("open")==void 0&&a.attr("open","open");else if(a=b.closest(".elementor-accordion-item"),a.length&&a.find("ul:eq(0)").is(":hidden"))a.find(".elementor-accordion-title:eq(0)").trigger("click");else{a=b.closest(".elementor-toggle-item");
if(a.length&&(a=a.find('[role="button"]:eq(0)'),a.length)){a.trigger("click");return}a=b.closest(".elementor-tab-content");if(a.length)for(;a.length&&a.is(":hidden");)a.hasClass("elementor-active")||(d=e("#"+a.attr("id").replace("content","title")),d.length?d.trigger("click"):a.attr("data-tab")&&(d=e('.elementor-tab-title[data-tab="'+a.attr("data-tab")+'"]'),d.length&&d.trigger("click"))),b=a.parent(),a=b.closest(".elementor-tab-content");else{a=b.closest(".et_pb_toggle_content");if(a.length&&(d=
a.siblings(".et_pb_toggle_title"),d.length)){d.trigger("click");return}if(b.closest(".et-learn-more").length&&(d=b.closest(".et-learn-more").find(".heading-more"),d.length)){d.trigger("click");return}a=b.closest(".sow-accordion-panel-content");if(a.length&&(d=a.siblings(".sow-accordion-panel-header-container"),d.length)){d.find(".sow-accordion-open-button").trigger("click");return}a=b.closest(".answer");if(a.length&&(d=a.siblings(".title"),d.length)){d.trigger("click");return}a=b.closest('.ei-faq,[class$="_faq"]');
if(a.length&&(d=a.find(".collapsed"),d.length)){d.trigger("click");return}a=b.closest(".accordion__item");if(a.length&&b.find(".accordion__body:hidden")&&(d=a.find(".accordion__header"),d.length)){d.trigger("click");return}a=b.closest(".vc_tta-panel");a.length?a.addClass("active vc_active"):(a=b.closest(".wp-block-themeisle-blocks-accordion-item"),a.length&&a.find(".wp-block-themeisle-blocks-accordion-item__title").trigger("click"))}}}},A=function(b){e(".search-in-place-mark-active").removeClass("search-in-place-mark-active");
e(b).addClass("search-in-place-mark-active");E(b);var a=b.offset().top-window.innerHeight/2;setTimeout(function(){window.scrollTo({top:a,left:0,behavior:"smooth"})},100)},q=function(){e("[data-disable-enter-key]").on("keypress",function(b){if(b.keyCode===13)return b.preventDefault(),b.stopPropagation(),!1});e("[data-search-in-page]").data("enter-counter",0).on("click",function(){e(this).data("enter-counter",0)}).closest("form").on("submit",function(b){b.preventDefault();b.stopPropagation();b=e("[data-search-in-page]",
this);var a=b.data("enter-counter"),d=e(".search-in-place-mark:eq("+a+")");d.length?(A(d),b.data("enter-counter",a+1)):b.data("enter-counter",0);w(!0);return!1});if(jQuery.fn.on)e(document).on("mouseover mouseout",".search-in-place>.item",function(b){e(this).toggleClass("active")}).on("mousedown",".search-in-place>.item",z).on("mousedown",".search-in-place>.label.more",z);else e(".search-in-place>.item").live("mouseover mouseout",function(b){e(this).toggleClass("active")}).live("mousedown",z).live("mousedown",
".search-in-place>.label.more",z)};q.prototype={active:null,search:"",source:"",config:{min:codepeople_search_in_place.char_number,image_width:50,image_height:50,colors:"highlight_colors"in codepeople_search_in_place?codepeople_search_in_place.highlight_colors:"#B5DCE1 #F4E0E9 #D7E0B1 #F4D9D0 #D6CDC8 #F4E3C9 #CFDAF0 #F4EFEC".split(" "),areas:"areas"in codepeople_search_in_place?codepeople_search_in_place.areas:"div.hentry #content #main div.content #middle #container #wrapper article .elementor body".split(" ")},
autohide:function(){function b(h){var g=e(h).next('[name="cpsp-autocomplete"]');g.length&&(clearTimeout(D),D=setTimeout(function(){g.show();g[0].scrollLeft=h.scrollLeft},10),g.hide())}var a=this,d='input[name="s"]';"own_only"in codepeople_search_in_place&&codepeople_search_in_place.own_only*1&&(d+="[data-search-in-place]");e(document).on("keydown",d,function(h){if(h.keyCode==9&&e(".search-in-place:visible").length)return h.preventDefault(),h.stopPropagation(),e(".search-in-place:visible a:first").focus(),
!1});e(document).on("keydown input keyup focus",d,function(h){b(h.target)});e(document).on("input keyup focus",d,function(h){var g=e(this),l=g.val();if(!("key"in h&&h.key=="Escape")&&(e(h.currentTarget).data("search-in-page")!=1||h.type!="focus"&&h.keyCode!==13)){if(e(".search-in-place-close-icon").length==0&&!g.data("search-in-page")&&r()){var c=e('<span class="search-in-place-close-icon"></span>');g.after(c);var f=g.offset(),m=g.outerWidth()-5,k=g.outerHeight(),n=Math.min(c.height(),k-5),p=Math.min(c.width(),
n);c.height(n);c.width(p);c.offset({top:f.top+(k-n)/2,left:f.left+(m-p)})}g.attr("autocomplete","off");a.checkString(l)?(setTimeout(function(){a.getResults(g)},500),v=!0):(a.clearAutocomplete(g),e(".search-in-place").hide(),v=!1);h.type=="keyup"&&h.keyCode==39&&a.fromAutocomplete(g)}});e(document).on("click",".search-in-place-close-icon",function(h){h.stopPropagation();h.preventDefault();w(!0)});e(document).on("mouseover",":not(.search-in-place, .search-in-place *)",function(){r()||setTimeout(w,150)});
e(document).on("blur",'input[name="s"]',function(){var h=e(this),g=h.data("background-color");typeof g!="undefined"&&h.css("background-color",g);e('[name="cpsp-autocomplete"]').remove()});e(document).on("click",':not(input[name="s"])',function(){setTimeout(w,150)});e(document).on("keyup",function(h){h.key=="Escape"&&w(!0)})},checkString:function(b){return this.config.min<=b.length},getResults:function(b){function a(f){"object"==typeof f&&("result"in f&&d.displayResult(f.result,l,h),"autocomplete"in
f&&f.autocomplete.length?d.autocomplete(f.autocomplete[0],b):d.clearAutocomplete(b))}var d=this,h=b.data("search-in-page")?"source":"website";if(h=="website"&&!y.length||h=="source"&&b.data("no-popup")==void 0){var g=b.offset(),l=e(".search-in-place"),c=b.outerWidth();g={left:g.left,top:parseInt(g.top)+b.outerHeight()+5};if(d.search==b.val()&&l.length&&d.source==h){l.show().width(c).offset(g);return}l.remove();l=e('<div class="search-in-place"></div>');l.appendTo("body");l.width(c).offset(g);d.displayLoading(l)}d.search=
b.val();d.source=h;h=="source"?(d.exclude_hidden=b.data("exclude-hidden")||0,c=d.search.replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," "),c="operator"in codepeople_search_in_place&&codepeople_search_in_place.operator!="or"?[c]:c.split(" "),e(".search-in-place-mark").each(function(){var f=e(this).parent();e(this).contents().filter(function(){return this.nodeType===3}).unwrap();f[0]=f[0].normalize()}),c=function(f){const m=JSON.parse(JSON.stringify(f));for(let k in f){if(typeof f[k]!=="string"||
!/['"]/.test(f[k]))continue;const n=[f[k].replace(/(?<!\w)"/g,"\u201c"),f[k].replace(/"(?<!\w)/g,"\u201d"),f[k].replace(/(?<!\w)'/g,"\u2018"),f[k].replace(/'/g,"\u2019"),f[k].replace(/(?<!\w)"/g,"\u201c").replace(/"(?<!\w)/g,"\u201d").replace(/(?<!\w)'/g,"\u2018").replace(/'/g,"\u2019")];for(let p in n)n[p]!==f[k]&&m.indexOf(n[p])==-1&&m.push(n[p])}return m}(c),c=B.highlightTerms(c),b.data("no-popup")==void 0&&(a(c),e(".search-in-place-more").remove(),e(".search-in-place .title a").on("mousedown",
function(f){f.preventDefault();f.stopPropagation();b.trigger("blur");A(e(e(f.target).attr("href")));w(!0)}))):(c={s:d.search,action:"search_in_place"},"lang"in codepeople_search_in_place&&(c.lang=codepeople_search_in_place.lang),d.active&&d.active.abort(),d.active=jQuery.ajax({url:atob(codepeople_search_in_place.root)+"admin-ajax.php",data:c,cache:!0,dataType:"json",success:function(f){a(f)}}))},autocomplete:function(b,a){var d=a.data("background-color")||a.css("background-color"),h=function(c){if(c){if(c.toLowerCase()===
"transparent")return[0,0,0,0];if(c[0]==="#")return c.length<7&&(c="#"+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]+(c.length>4?c[4]+c[4]:"")),[parseInt(c.substr(1,2),16),parseInt(c.substr(3,2),16),parseInt(c.substr(5,2),16),c.length>7?parseInt(c.substr(7,2),16)/255:1];if(c.indexOf("rgb")===-1){var f=document.body.appendChild(document.createElement("fictum"));f.style.color="rgb(1, 2, 3)";if(f.style.color!=="rgb(1, 2, 3)")return;f.style.color=c;if(f.style.color==="rgb(1, 2, 3)"||f.style.color==="")return;c=getComputedStyle(f).color;
document.body.removeChild(f)}if(c.indexOf("rgb")===0)return c.indexOf("rgba")===-1&&(c+=",1"),c.match(/[\.\d]+/g).map(function(m){return+m})}}(a.css("color")),g=a.clone(),l={position:"absolute",background:d,"border-color":"transparent","box-shadow":"none",zIndex:1};g.removeAttr("placeholder").removeAttr("required");a.css("zIndex")=="auto"&&a.css("zIndex",10);a.css("position")=="static"&&a.css("position","relative");a.data("background-color",d);h&&(h[3]=.5,l.color="rgba("+h.join(",")+")");e('[name="cpsp-autocomplete"]').remove();
a.css("backgroundColor","transparent").after(g.attr("name","cpsp-autocomplete").val(b).css(l));g.width(a.width());g.height(a.height());g.offset(a.offset());g[0].scrollLeft=a[0].scrollLeft},fromAutocomplete:function(b){var a=b.next('[name="cpsp-autocomplete"]');a.length&&a.val().length&&b.val(a.val())},clearAutocomplete:function(b){b=b.next('[name="cpsp-autocomplete"]');b.length&&b.val("")},displayResult:function(b,a,d){var h=this,g="",l=0,c;for(c in b){g+='<div class="label">'+(c!="source"?c:"")+
"</div>";var f=b[c],m=f.length;l+=m;for(var k=0;k<m;k++)g+='<div class="item '+(k+1==m?"last":"")+'">',g=f[k].thumbnail?g+('<div class="thumbnail"><img src="'+f[k].thumbnail+'" style="visibility:hidden;float:left;position:absolute;" /></div><div class="data" style="margin-left:'+(h.config.image_width+5)+"px;min-height:"+h.config.image_height+'px;">'):g+'<div class="data">',g+='<span class="title"><a href="'+f[k].link+'">'+(d=="source"&&f[k].resume?f[k].resume:f[k].title)+"</a></span>",d=="source"&&
f[k].resume?g+='<span class="resume">'+f[k].title+"</span>":d!="source"&&f[k].resume&&(g+='<span class="resume">'+f[k].resume+"</span>"),f[k].author&&(g+='<span class="author">'+f[k].author+"</span>"),f[k].date&&(g+='<span class="date">'+f[k].date+"</span>"),g+='</div><div style="clear:both;"></div></div>'}g+='<div class="label more">';l?codepeople_search_in_place.result_number*1<=l&&(b=codepeople_search_in_place.home,b+=b.indexOf("?")==-1?"?":"&","lang"in codepeople_search_in_place&&(b+="lang="+
codepeople_search_in_place.lang+"&"),g+='<a class="search-in-place-more" href="'+b+"s="+this.search+'&submit=Search">'+codepeople_search_in_place.more+" &gt;</a>"):g+=codepeople_search_in_place.empty;g+="</div>";if(a)a.html(g).find(".thumbnail img").on("load",function(){var n=h.imgSize(this);e(this).width(n.w).height(n.h).css("visibility","visible")});else y.length&&(y.html(g),y.find(".thumbnail img").css("visibility","visible"));clearTimeout(C);C=setTimeout(function(){if("codepeople_search_in_place"in
window&&"screen_reader_alert"in codepeople_search_in_place)try{let n=e(a||y);if(n.find(".search-in-place-alert").length==0){let p=n.find(".item").length,u=codepeople_search_in_place.screen_reader_alert+" "+p+" "+(p==1?codepeople_search_in_place.screen_reader_alert_result_single:codepeople_search_in_place.screen_reader_alert_result_multiple);n.find(".item").length&&(u+=". "+codepeople_search_in_place.screen_reader_alert_instructions);n.prepend('<label class="search-in-place-alert" role="alert">'+u+
"</label>")}}catch(n){}},1200)},imgSize:function(b){b=e(b);var a=b.width();b=b.height();if(a>this.config.image_width){var d=this.config.image_width;var h=d/a*b;a=d;b=h}b>this.config.image_height&&(h=this.config.image_height,a*=h/b,b=h);return{w:a,h:b}},displayLoading:function(b){b.append('<div class="label"><div class="loading"></div></div>')},highlightTerms:function(b){var a=this,d,h=0,g={result:{source:[]},autocomplete:[]};innerHighlight=function(l,c,f){var m=0;if(3==c.nodeType){var k=c.data,n=
l.toUpperCase(),p=replaceTildes(k).toUpperCase().indexOf(n),u=l.length,x=(Math.max("codepeople_search_in_place"in window&&"summary_length"in codepeople_search_in_place?codepeople_search_in_place.summary_length*1:20,u)-u)/2;n=p;var t=k.length-(p+u);if(0<=p&&e(c).closest(".search-in-place-mark").length==0&&(c=replaceNodeContent(c,l,p),c!==!1)){n<t?t=n<x?2*x-n:n=x:t<x?n=2*x-t:t=n=x;n=Math.max(0,p-("search_in_place_characters_before"in window?search_in_place_characters_before:n));t=Math.min(p+u+("search_in_place_characters_after"in
window?search_in_place_characters_after:t),k.length);for(;n&&/[^\W]/.test(k.charAt(n));)n--;for(;t<k.length&&/[^\W]/.test(k.charAt(t));)t++;g.autocomplete.length||(m=e('[name="s"][data-autocomplete="1"]:focus'),m.length&&(m=m.val(),m=new RegExp(m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\s*[^\\s]*","i"),m=k.match(m),null!=m&&g.autocomplete.push(m[0])));g.result.source.push({link:"#"+c,title:f||l,resume:k.substring(n,t)+'<span class="ellipsis">[...]</span>'});m=1}}else possibleTextNode(c)&&lookupTextNodes(c,
l,f);return m};replaceTildes=function(l){return/[\u0600-\u06ff]|[\u0750-\u077f]|[\ufb50-\ufc3f]|[\ufe70-\ufefc]|[\u0200]|[\u00A0]/g.test(l)||/[\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f\u3131-\uD79D]/g.test(l)||/[\u0400-\u04FF]/g.test(l)?l:l.normalize("NFD").replace(/[\u0300-\u036f]/g,"")};replaceNodeContent=function(l,c,f){try{if(a.exclude_hidden&&e(l).parent().is(":hidden"))return!1;var m=document.createElement("mark"),k=l.splitText(f);k.splitText(c.length);var n=k.cloneNode(!0);
h++;var p="search-in-page-"+h;m.setAttribute("id",p);m.setAttribute("style","background-color:"+d);m.setAttribute("class","search-in-place-mark");m.appendChild(n);k.parentNode.replaceChild(m,k);return p}catch(u){return!1}};possibleTextNode=function(l){return 1==l.nodeType&&l.childNodes&&!/(script|style)/i.test(l.tagName)};lookupTextNodes=function(l,c,f){for(var m=0;m<l.childNodes.length;m++)m+=innerHighlight(c,l.childNodes[m],f)};e.each(a.config.areas,function(l,c){c=e(c);c.length&&c.each(function(){var f=
this;e.each(b,function(m,k){k.length>=codepeople_search_in_place.char_number&&(d=a.config.colors[m%a.config.colors.length],innerHighlight(replaceTildes(k),f,k))})})});return g}};var B=new q;q=null;if(codepeople_search_in_place.highlight*1||codepeople_search_in_place.highlight_resulting_page*1){if(codepeople_search_in_place.terms&&0<codepeople_search_in_place.terms.length)q=codepeople_search_in_place.terms;else try{q=(new URLSearchParams(window.location.search)).get("highlight"),!q&&"sessionStorage"in
window&&(q=sessionStorage.getItem("highlight")),q&&(q=String(q).trim())&&(q=[q])}catch(b){}q&&(B.highlightTerms(q),q=e(".search-in-place-mark:eq(0)"),q.length&&A(q))}codepeople_search_in_place.identify_post_type*1&&(e(".type-post").prepend('<div class="search-in-place-type-post">'+codepeople_search_in_place.post_title+"</div>"),e(".type-page").prepend('<div class="search-in-place-type-page">'+codepeople_search_in_place.page_title+"</div>"));B.autohide()}};jQuery(codepeople_search_in_place_generator);
jQuery(window).on("load",codepeople_search_in_place_generator);
jQuery(window).on("load",function(){setTimeout(function(){try{let r=(new URLSearchParams(window.location.search)).get("highlight");!r&&"sessionStorage"in window&&(r=sessionStorage.getItem("highlight"),sessionStorage.removeItem("highlight"));if(!jQuery(".search-in-place-mark.search-in-place-mark-active:visible").length&&r&&(r=String(r).trim(),!window.find(r))){r=r.replace(/\s+/g," ").split(" ");for(let e in r)if(window.find(r[e]))break}}catch(r){console.log(r)}},1E3)});
